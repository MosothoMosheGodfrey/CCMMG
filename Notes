import numpy as np
import matplotlib.pyplot as plt

# Generate hypothetical data for illustration
days = np.arange(1, 11)  # Time periods (days)
temperature = np.array([35, 38, 40, 42, 45, 44, 42, 40, 38, 36])  # Temperature (°C)
rainfall = np.array([0.1, 0.2, 0.3, 0.4, 0.5, 5.0, 10.0, 25.0, 20.0, 5.0])  # Rainfall (mm)

# Calculate a simple threshold for heatwave and heavy rain conditions
heatwave_threshold = 38  # Temperature threshold for heatwave (°C)
rain_threshold = 5.0     # Rainfall threshold for heavy rain (mm)

# Find the indices where heatwave and heavy rain conditions are met
heatwave_indices = np.where(temperature > heatwave_threshold)[0]
rain_indices = np.where(rainfall > rain_threshold)[0]

# Identify the time period of transition from heatwave to heavy rain
transition_period = None
for heat_idx in heatwave_indices:
    if any(rain_idx > heat_idx for rain_idx in rain_indices):
        transition_period = heat_idx
        break

# Plot the data and mark the transition period
plt.figure(figsize=(10, 6))
plt.plot(days, temperature, color='tab:red', label='Temperature')
plt.plot(days, rainfall, color='tab:blue', linestyle='--', label='Rainfall')
if transition_period is not None:
    plt.axvline(x=days[transition_period], color='tab:green', linestyle=':', label='Transition')
plt.xlabel('Days')
plt.ylabel('Temperature (°C) / Rainfall (mm)')
plt.title('Transition from Heatwave to Heavy Rains')
plt.legend()
plt.grid(True)
plt.show()

